(this.webpackJsonpanlayticstest=this.webpackJsonpanlayticstest||[]).push([[0],{208:function(e,t,a){e.exports=a(418)},213:function(e,t,a){},214:function(e,t,a){},418:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(5),o=a.n(s);a(213),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var l=a(138),i=a(23),c=a(24),m=a(26),u=a(25),d=a(57),p=a(33),h=a(421),g=a(425),f=(a(214),a(36)),E=a(436),v=a(30),y=a(180),b=a.n(y),S={roundNumer:function(e,t){return+(Math.round(e+"e+".concat(t))+"e-".concat(t))},subString:function(e,t,a){return e.substring(t,a)},callApi:function(e,t){console.log("JSON",e),b.a[e.method](e.url,e.request,{headers:{"Content-Type":"application/json"}}).then((function(e){var a=e.data;t(null,a)})).catch((function(e){e.response&&e.response.data&&t(null,e.response.data)}))}},N="\n https://dev-api.alldaydr.com/api/",O={url:"".concat(N,"users/sign_up.json"),method:"post"},_={url:"".concat(N,"users/sign_in.json"),method:"post"},w=("".concat(N,"users/sign_out.json"),a(432)),I=function(e){return w.a[e.type]({message:e.title,placement:"bottomRight"})},C=function(e,t){return function(t){t({type:"SIGNIN_USER_START"});var a=Object(v.a)({},_,{request:e});S.callApi(a,(function(e,a){if(200===a.status){console.log("LOGGED IN",a);var n=a.data.user,r=a.data.user.auth_token;localStorage.setItem("al-user",JSON.stringify(n)),localStorage.setItem("al-token",JSON.stringify(r)),t({type:"SIGNIN_USER_SUCCESS",payload:n})}else t({type:"SIGNIN_USER_FAIL"}),I({type:"error",title:a.message})}))}},j=function(e){return function(t){localStorage.clear(),e.history.push("/login"),t({type:"SIGNOUT_USER_SUCCESS"})}},k=h.a.Header,A=h.a.Content,x=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={collapsed:!1},e.onCollapse=function(t){e.setState({collapsed:t})},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(h.a,null,r.a.createElement(k,{style:{justifyContent:this.props.isAuthenticated?"flex-start":"center"},className:"header"},r.a.createElement("div",{onClick:function(){return e.props.history.push("/")},className:"logo"},r.a.createElement("span",null,"Applocum International")),this.props.isAuthenticated&&r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,{defaultSelectedKeys:["people"],defaultOpenKeys:["sub1"],onClick:function(t){e.props.onSignout(e.props)},className:"logout-panel",theme:"dark",mode:"horizontal"},r.a.createElement(g.a.Item,{key:"people"},r.a.createElement("span",null,r.a.createElement(E.a,null),"Logout"))))),r.a.createElement(h.a,null,r.a.createElement(h.a,{style:{padding:"0 24px 24px"}},r.a.createElement(A,{className:"site-layout-background",style:{padding:24,margin:0,minHeight:280}},this.props.children))))}}]),a}(r.a.Component),R=Object(f.b)((function(e){var t=e.auth;return{loading:t.logoutloading,isAuthenticated:null!=t.userData||!1}}),(function(e){return{onSignout:function(t){return e(j(t))}}}))(Object(d.g)(x)),L=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"home-container"},r.a.createElement("div",{className:"card-heading"},r.a.createElement("h1",{className:"main-head"},"Page Not Found -404"))),r.a.createElement("div",{className:"home-content"}))}}]),a}(n.Component),q=a(422),T=a(79),U=a(32),D=a(424),P=a(137),z=a(428),J=D.a.Meta;function G(e){return r.a.createElement(U.a,{style:{marginTop:10,cursor:"pointer"},span:12},r.a.createElement(D.a,{title:e.product.Name,bordered:!1,actions:[r.a.createElement(P.a,{disabled:0===e.product.qty,onClick:function(){return e.OnAddToCart(e.product)}},"Add To Cart")],style:{width:300},extra:0===e.product.qty&&r.a.createElement(z.a,{color:"red"}," Sold Out ")},r.a.createElement(J,{style:{marginTop:10},title:"Price",description:"$".concat(e.product.price)}),r.a.createElement(J,{style:{marginTop:10},title:"Location",description:"".concat(e.product.Location)})))}function Q(e){var t=e.products;return r.a.createElement(U.a,{span:12},r.a.createElement("h1",null,"Products"),r.a.createElement(T.a,null,t.map((function(a,n){return r.a.createElement(G,{key:t._id,OnAddToCart:e.OnAddToCart,product:a},r.a.createElement("div",{className:"card-inner"},r.a.createElement("h1",null,a.Name)))}))))}var $=a(423),B=a(427),F=a(435),V=a(434),H=a(437);function Z(e){var t=e.cartItems;return r.a.createElement(U.a,{span:12},r.a.createElement("h1",null,"Cart"),r.a.createElement($.a,{itemLayout:"horizontal",dataSource:t,style:{padding:10},renderItem:function(t){return r.a.createElement($.a.Item,{style:{borderBottom:"1px solid  #80808045"},actions:[r.a.createElement(F.a,{title:"Remove Item",style:{fontSize:"16px",color:"#e81616"},onClick:function(){return e.onRemoveCartItem(t._id)}}),r.a.createElement("div",{style:{marginTop:-3}},r.a.createElement(V.a,{onClick:function(){t.qty>1&&e.DecreaseQty(t._id)},title:"Add Qty",style:{marginRight:5}}),r.a.createElement(B.a,{disabled:!0,style:{width:40},min:0,max:t.qty,value:t.qty}),r.a.createElement(H.a,{title:"Remove Qty",onClick:function(){return e.IncreaseQty(t._id)},style:{marginLeft:5}}))]},r.a.createElement($.a.Item.Meta,{title:t.Name,description:"$".concat(t.price)}),t.Location)}}))}var M=JSON.parse(localStorage.getItem("al-cart")),K=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={cartItems:M||[],products:[{Name:"Cheese",price:2.5,Location:"Refrigerated foods",qty:2,_id:1},{Name:"Crisps",price:3,Location:"the Snack isle",qty:5,_id:2},{Name:"pizza",price:4,Location:"Refrigerated foods",qty:7,_id:3},{Name:"Chocolate",price:1.5,Location:"the Snack isle",qty:8,_id:4},{Name:"Self-raising flour",price:1.5,Location:"Home baking",qty:0,_id:5},{Name:"Ground almonds",price:3,Location:"Home baking",qty:1,_id:6}]},e.IncreaseQty=function(t){e.setState((function(e){var a=e.cartItems;return a.find((function(e){return e._id===t})).qty++,localStorage.setItem("al-cart",JSON.stringify(a)),{cartItems:a}}))},e.DecreaseQty=function(t){e.setState((function(e){var a=e.cartItems;return a.find((function(e){return e._id===t})).qty--,localStorage.setItem("al-cart",JSON.stringify(a)),{cartItems:a}}))},e.OnAddToCart=function(t){e.state.cartItems.find((function(e){return e._id===t._id}))?e.setState((function(e){var a=e.cartItems;return a.find((function(e){return e._id===t._id})).qty++,localStorage.setItem("al-cart",JSON.stringify(a)),{cartItems:a}}),(function(){q.a.success("".concat(t.Name," Qty Updated"))})):e.setState((function(e){var a=e.cartItems;return a.push(t),localStorage.setItem("al-cart",JSON.stringify(a)),{cartItems:a}}),(function(){q.a.success(" ".concat(t.Name," added in cart"))}))},e.onRemoveCartItem=function(t){e.setState((function(e){var a=e.cartItems.filter((function(e){return e._id!==t}));return localStorage.setItem("al-cart",JSON.stringify(a)),{cartItems:a}}))},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this.state,t=e.cartItems,a=e.products;return r.a.createElement("div",{className:"site-card-border-less-wrapper"},r.a.createElement(T.a,null,r.a.createElement(T.a,null,r.a.createElement(Q,{products:a,OnAddToCart:this.OnAddToCart}),r.a.createElement(Z,{cartItems:t,DecreaseQty:this.DecreaseQty,IncreaseQty:this.IncreaseQty,onRemoveCartItem:this.onRemoveCartItem}))))}}]),a}(n.Component),W=Object(d.g)(K),X=a(38),Y=a(430),ee=a(429),te=a(426),ae=function(e){return r.a.createElement(te.a,{size:"large",type:"text",placeholder:e.placeholder,name:e.name,onBlur:e.onBlur,value:e.value,className:e.className,prefix:e.prefix,onChange:e.handleChange})},ne=function(e){return r.a.createElement(te.a.Password,{size:"large",type:"text",placeholder:e.placeholder,name:e.name,onBlur:e.onBlur,value:e.value,className:e.className,prefix:e.prefix,onChange:e.handleChange})},re=a(107),se=a.n(re),oe=a(12),le=a.n(oe);function ie(e){var t={};if(void 0!==e.user_name&&le.a.isEmpty(e.user_name)&&(t.user_name="Username is required"),void 0!==e.password&&le.a.isEmpty(e.password)&&(t.password="Password is required"),void 0!==e.password&&!le.a.isEmpty(e.password))if(void 0!==e.password&&!1===le.a.isLength(e.password,{min:6}))t.password="Passowrd should be minimum of 6 charcter";else{var a=new RegExp(/^(?=.*[a-zA-Z])(?=.*\d)(?=.*[!@#$%^&*()_+])[A-Za-z\d][A-Za-z\d!@#$%^&*()_+]{6,19}$/);void 0!==e.password&&!1===a.test(e.password)&&(t.password="Password must include at least a number, an uppercase and a lowercase letter")}return{errors:t,isValid:se()(t)}}var ce=function(e){return r.a.createElement("span",{className:e.className},e.message)},me=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).handleChange=function(e){var t,a=null,r=e.target.name,s=e.target.value;n.state.errors&&delete(a=Object.assign("",n.state.errors))[e.target.name],n.setState((t={},Object(X.a)(t,e.target.name,e.target.value),Object(X.a)(t,"errors",a),t),(function(){if(""!==n.state[r]){var e=ie(Object(X.a)({},r,s));e.isValid||n.setState({errors:e.errors})}}))},n.handleSubmit=function(e){e.preventDefault();var t=ie({email:n.state.email,password:n.state.password});if(t.isValid){var a={user:{email:n.state.email,password:n.state.password},device_detail:{device_type:"web",player_id:""}};n.props.onSignIn(a,n.props)}else n.setState({errors:t.errors,adding:!1})},n.state={email:"",password:"",errors:""},n}return Object(c.a)(a,[{key:"render",value:function(){var e=this.state,t=e.errors,a=e.email,n=e.password;return r.a.createElement("div",{className:"login-container"},r.a.createElement("form",{onSubmit:this.handleSubmit,className:"login-wrapper"},r.a.createElement("div",null,r.a.createElement(ae,{placeholder:"Email",name:"email",value:a,className:"lgn-input-field",prefix:r.a.createElement(Y.a,null),handleChange:this.handleChange}),t&&r.a.createElement(ce,{message:t.email,className:"validation-error"}),r.a.createElement(ne,{className:"lgn-input-field",size:"large",name:"password",value:n,prefix:r.a.createElement(ee.a,null),placeholder:"Password",handleChange:this.handleChange}),t&&r.a.createElement(ce,{message:t.password,className:"validation-error"})),r.a.createElement("div",{className:"login-btn-wrapper"},r.a.createElement("button",{className:"btn-login",disabled:this.props.loading,onClick:this.handleSubmit},this.props.loading?"Loading...":"Login"),r.a.createElement("span",{className:"register-link"},r.a.createElement(p.b,{to:"/register"},"Click Here ")," To Register"))))}}]),a}(n.Component),ue=Object(f.b)((function(e){return{loading:e.auth.loading}}),(function(e){return{onSignIn:function(t,a){return e(C(t))}}}))(Object(d.g)(me)),de=a(433),pe=a(431);function he(e){var t={};if(console.log("Email",e),void 0!==e.first_name&&le.a.isEmpty(e.first_name)&&(t.first_name="FirstName is required"),void 0!==e.last_name&&le.a.isEmpty(e.last_name)&&(t.last_name="LastName is required"),void 0!==e.email&&le.a.isEmpty(e.email)&&(t.email="Email is required"),void 0!==e.email&&!1===le.a.isEmpty(e.email)&&(le.a.isEmail(e.email)||(t.email="Email is invalid")),void 0!==e.phone&&le.a.isEmpty(e.phone)&&(t.phone="Phone number is required"),void 0===e.phone||le.a.isEmpty(e.phone)||(le.a.isNumeric(e.phone)||(t.phone="Enter valid phone no"),void 0!==e.phone&&le.a.isNumeric(e.phone)&&!1===le.a.isLength(e.phone,{min:10,max:10})&&(t.phone="Phone no should be of 10 digit")),void 0!==e.password&&le.a.isEmpty(e.password)&&(t.password="Password is required"),void 0!==e.password&&!le.a.isEmpty(e.password))if(void 0!==e.password&&!1===le.a.isLength(e.password,{min:6}))t.password="Passowrd should be minimum of 6 charcter";else{var a=new RegExp(/^(?=.*[a-zA-Z])(?=.*\d)(?=.*[!@#$%^&*()_+])[A-Za-z\d][A-Za-z\d!@#$%^&*()_+]{6,19}$/);void 0!==e.password&&!1===a.test(e.password)&&(t.password="Password must include at least a number, an uppercase and a lowercase letter")}return{errors:t,isValid:se()(t)}}var ge=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).handleChange=function(e){var t,a=null,r=e.target.name,s=e.target.value;n.state.errors&&delete(a=Object.assign("",n.state.errors))[e.target.name],n.setState((t={},Object(X.a)(t,e.target.name,e.target.value),Object(X.a)(t,"errors",a),t),(function(){if(""!==n.state[r]){var e=he(Object(X.a)({},r,s));e.isValid||n.setState({errors:e.errors})}}))},n.handleSubmit=function(e){e.preventDefault();var t=he({first_name:n.state.first_name,last_name:n.state.last_name,password:n.state.password,email:n.state.email,phone:n.state.phone});if(t.isValid){var a={user:{first_name:n.state.first_name,last_name:n.state.last_name,password:n.state.password,email:n.state.email,phone:"+91".concat(n.state.phone)},device_detail:{device_type:"web",player_id:""}},r=Object(v.a)({},O,{request:a});n.setState({loading:!0},(function(){S.callApi(r,(function(e,t){console.log(t),200===t.status?n.setState({loading:!1},(function(){I({type:"success",title:t.message}),n.props.history.push("/login")})):n.setState({loading:!1},(function(){I({type:"error",title:t.message})}))}))}))}else n.setState({errors:t.errors,adding:!1})},n.state={first_name:"",last_name:"",phone:"",email:"",password:"",errors:"",loading:!1},n}return Object(c.a)(a,[{key:"render",value:function(){var e=this.state,t=e.errors,a=e.first_name,n=e.last_name,s=e.password,o=e.phone,l=e.email,i=e.loading;return r.a.createElement("div",{className:"login-container"},r.a.createElement("form",{onSubmit:this.handleSubmit,className:"login-wrapper"},r.a.createElement("div",null,r.a.createElement(ae,{placeholder:"First Name",name:"first_name",value:a,className:"lgn-input-field",prefix:r.a.createElement(Y.a,null),handleChange:this.handleChange}),t&&r.a.createElement(ce,{message:t.first_name,className:"validation-error"}),r.a.createElement(ae,{placeholder:"Last Name",name:"last_name",value:n,className:"lgn-input-field",prefix:r.a.createElement(Y.a,null),handleChange:this.handleChange}),t&&r.a.createElement(ce,{message:t.last_name,className:"validation-error"}),r.a.createElement(ae,{placeholder:"Phone",name:"phone",value:o,className:"lgn-input-field",prefix:r.a.createElement(de.a,null),handleChange:this.handleChange}),t&&r.a.createElement(ce,{message:t.phone,className:"validation-error"}),r.a.createElement(ae,{placeholder:"Email",name:"email",value:l,className:"lgn-input-field",prefix:r.a.createElement(pe.a,null),handleChange:this.handleChange}),t&&r.a.createElement(ce,{message:t.email,className:"validation-error"}),r.a.createElement(ne,{className:"lgn-input-field",size:"large",name:"password",value:s,prefix:r.a.createElement(ee.a,null),placeholder:"Password",handleChange:this.handleChange}),t&&r.a.createElement(ce,{message:t.password,className:"validation-error"})),r.a.createElement("div",{className:"login-btn-wrapper"},r.a.createElement("button",{disabled:i,className:"btn-login",onClick:this.handleSubmit},i?"Loading...":"Register"),r.a.createElement("span",{className:"register-link"},r.a.createElement(p.b,{to:"/login"},"Click Here")," To Login"))))}}]),a}(n.Component),fe=Object(f.b)((function(){return{}}),(function(e){return{onSignIn:function(t,a){return e(C(t))}}}))(Object(d.g)(ge)),Ee=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.props.OnAutoSignIn()}},{key:"render",value:function(){var e=this,t=function(t){var a=t.component,n=Object(l.a)(t,["component"]);return r.a.createElement(d.b,Object.assign({},n,{render:function(t){return e.props.isAuthenticated?r.a.createElement(d.a,{to:"/"}):r.a.createElement(a,null)}}))},a=function(t){var a=t.component,n=t.parent,s=Object(l.a)(t,["component","parent"]);return r.a.createElement(d.b,Object.assign({},s,{render:function(t){return e.props.isAuthenticated?n?r.a.createElement(n,null,r.a.createElement(a,Object.assign({},t,s))):r.a.createElement(a,t):r.a.createElement(d.a,{to:"/"})}}))};return r.a.createElement(p.a,null,r.a.createElement(R,null,r.a.createElement(d.d,null,!this.props.isAuthenticated&&r.a.createElement(d.b,{exact:!0,path:"/",component:ue}),r.a.createElement(a,{exact:!0,path:"/",component:W}),r.a.createElement(t,{exact:!0,path:"/login",component:ue}),r.a.createElement(t,{exact:!0,path:"/register",component:fe}),r.a.createElement(d.b,{path:"*",component:L}))))}}]),a}(n.Component),ve=Object(f.b)((function(e){var t=e.auth;e.commonData;return{isAuthenticated:null!=t.userData||!1}}),(function(e){return{OnAutoSignIn:function(){return e((function(e){JSON.parse(localStorage.getItem("sl-token"))?e({type:"SIGNIN_USER_SUCCESS",payload:JSON.parse(localStorage.getItem("sl-user"))}):j()}))}}}))(Ee),ye=(a(417),a(52)),be={assignmentData:[],userData:JSON.parse(localStorage.getItem("al-user")),loading:!1,logoutloading:!1},Se=Object(ye.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SIGNIN_USER_START":return Object(v.a)({},e,{loading:!0,userData:null});case"SIGNIN_USER_SUCCESS":return Object(v.a)({},e,{userData:t.payload,loading:!1});case"SIGNIN_USER_FAIL":return Object(v.a)({},e,{loading:!1});case"SIGNOUT_USER_SUCCESS":return Object(v.a)({},e,{userData:null});case"SIGNOUT_USER_FAIL":return Object(v.a)({},e,{userData:null,logoutloading:!1});default:return Object(v.a)({},e)}}}),Ne=[a(204).a],Oe=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ye.d;var _e,we=Object(ye.e)(Se,_e,Oe(ye.a.apply(void 0,Ne)));o.a.render(r.a.createElement(f.a,{store:we},r.a.createElement(ve,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[208,1,2]]]);
//# sourceMappingURL=main.5608a816.chunk.js.map